if the new instance is not clean: the configuration files (.agent, .credentials, etc.) exist, you could simply skip the configuration steps and directly run the agent via run.sh script.
Hereâ€™s an adjusted start.sh script based on the [one](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fazure%2Fdevops%2Fpipelines%2Fagents%2Fdocker%3Fview%3Dazure-devops%23create-and-build-the-dockerfile-1&data=05%7C02%7CLi.Chunxiao%40microsoft.com%7C79d48a7df13b40dd0c0108dd045812ae%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638671498575433995%7CUnknown%7CTWFpbGZsb3d8eyJFbXB0eU1hcGkiOnRydWUsIlYiOiIwLjAuMDAwMCIsIlAiOiJXaW4zMiIsIkFOIjoiTWFpbCIsIldUIjoyfQ%3D%3D%7C0%7C%7C%7C&sdata=SjIgxyUJkQp89hmG0DFcUUEy24AHQrLqzWmdPJi9sRw%3D&reserved=0) from doc, as an example:
